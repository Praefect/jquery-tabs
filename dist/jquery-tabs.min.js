/*! jQuery Tabs - v0.1.0 - 2013-07-23
* https://github.com/amazingSurge/jquery-tabs
* Copyright (c) 2013 Wowhoo; Licensed MIT */
(function(t,s,e,a){"use strict";var i=e(s),n=e.Tabs=function(t,s){var a=this;this.element=t,this.$element=e(t);var i=[];e.each(this.$element.data(),function(t,s){var e=RegExp("^tabs","i");e.test(t)&&(i[t.toLowerCase().replace(e,"")]=s)}),this.options=e.extend(!0,{},n.defaults,s,i),this.namespace=this.options.namespace,this.classes={activeTab:this.namespace+"_active",activePanes:this.namespace+"_active",effect:this.namespace+"-"+this.options.effect,show:this.namespace+"-"+this.options.effect+"_show",panes:this.namespace+"-panes",skin:this.namespace+"_"+this.options.skin},this.$tabs=this.$element.children(),this.$panes=e(this.options.panes).addClass(this.classes.panes+" "+this.classes.effect),this.$panesItem=this.$panes.children(),this.options.skin&&(this.$tabs.addClass(this.classes.skin),this.$panes.addClass(this.classes.skin)),this.$loading=e('<span class="'+this.namespace+'-loading"></span>'),this.options.ajax===!0&&(this.ajax=[],e.each(this.$tabs,function(t,s){var i={};i.href=e(s).data("href"),a.ajax.push(i)})),this.init()};n.defaults={namespace:"tabs",panes:".panes",skin:null,initialIndex:0,effect:"fade",ajax:!1,cached:!1,history:!1,event:"click"},n.prototype={constructor:n,init:function(){var t=this;this.active(this.options.initialIndex),this.$tabs.on(this.options.event,function(s){var a=e(s.target).index();return t.active(a),!1}),i.trigger("tabs::init",this)},active:function(t){var s=this;this.current!==t&&(this.current=t,this.$tabs.eq(t).addClass(this.classes.activeTab).siblings().removeClass(this.classes.activeTab),this.$panesItem.eq(t).addClass(this.classes.activePanes).siblings().removeClass(this.classes.activePanes),this.$panesItem.removeClass(this.classes.show),i.trigger("tabs::active",this),this.options.ajax===!0&&this.ajaxLoad(t),setTimeout(function(){s.$panesItem.eq(t).addClass(s.classes.show)},0))},ajaxLoad:function(t){var s,a=this;(this.options.cached!==!0||this.ajax[t].cached!==!0)&&(this.showLoading(),s=e.ajax({url:this.ajax[t].href}),s.done(function(s){a.ajax[t].cached=!0,a.hideLoading(),a.$panesItem.eq(t).html(s)}),s.fail(function(){a.hideLoading(),a.$panesItem.eq(t).html("failed")}))},showLoading:function(){this.$loading.appendTo(this.$panes)},hideLoading:function(){this.$loading.remove()},getTabs:function(){return this.$tabs},getPanes:function(){return this.$panesItem},getCurrentPane:function(){return this.$panesItem.eq(this.current)},getCurrentTab:function(){return this.$tabs.eq(this.current)},getIndex:function(){return this.current},next:function(){var t=this.$tabs.length,s=this.current;t-1>s?s++:s=0,this.active(s)},prev:function(){var t=this.$tabs.length,s=this.current;0===s?s=Math.abs(1-t):s-=1,this.active(s)},destroy:function(){this.$element.remove()}},e.fn.tabs=function(t){if("string"!=typeof t)return this.each(function(){e.data(this,"tabs")||e.data(this,"tabs",new n(this,t))});var s=t,i=arguments.length>1?Array.prototype.slice.call(arguments,1):a;if(!/^(getTabs|getPanes|getCurrentPane|getCurrentTab|getIndex)$/.test(s))return this.each(function(){var t=e.data(this,"tabs");t&&"function"==typeof t[s]&&t[s].apply(t,i)});var h=this.first().data("tabs");return h&&"function"==typeof h[s]?h[s].apply(h,i):a}})(window,document,jQuery),function(t){var s=$(t),e={states:{},reflash:!1,pushState:function(t){for(id in t)this.states[id]=t[id];this.reflash=!1,setTimeout($.proxy(this.changeStates,this),0)},changeStates:function(){var t="";this.reflash!==!0&&($.each(this.states,function(s,e){t+=s+"="+e+"&"}),window.location.hash=t.substr(0,t.length-1),this.reflash=!0)},getState:function(){var t,s=window.location.hash.replace("#","").replace("!",""),e={};if(""!==s)return t=s.split("&"),$.each(t,function(t,s){if(0!=s){var a=s.match("#?(.*)=(.*)");a&&(e[a[1]]=a[2])}}),e},reset:function(){this.reflash!==!0&&(this.states={},window.location.hash="#/",this.reflash=!0)}};s.on("tabs::init",function(t,s){s.options.history!==!1&&$(window).on("hashchange.tabs",function(){var t,a=e.getState(),i=s.$element.attr("id");a[i]&&(t=$("#"+i).data("tabs"),t&&t.active(a[i]))})}),s.on("tabs::active",function(t,s){var a=s.current,i={},n=s.$element.attr("id");s.options.history!==!1&&(i[n]=a,e.pushState(i))}),setTimeout(function(){$(window).trigger("hashchange.tabs")},0)}(document),function(t){$(t)}(document);